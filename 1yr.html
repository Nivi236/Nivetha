<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>My Love</title>
  <link rel="stylesheet" href="1yr.css" />
</head>
<body>

<audio id="bg-music" loop>
  <source src="music/bg_song.mp3" type="audio/mp3" />
</audio>

<div class="heart-container"></div>

<!-- Main content wrapper to blur -->
<div class="content-wrapper" id="contentWrapper">

  <main class="top-buttons">
    <a href="about.html">
      <button class="back"><b>Back</b></button>
    </a>
    <button class="play-music" onclick="document.getElementById('bg-music').play()">🎵 Play Music</button>
  </main>

  <section class="gallery">
    <h2>SMALL RECAP OF OUR 11YRS 💟</h2>
    <div class="image-grid">
      <div class="image-item"><img src="pic1.jpg" alt="Memory 1" /></div>
      <div class="image-item"><img src="pic2.jpg" alt="Memory 2" /></div>
      <div class="image-item"><img src="pic3.jpg" alt="Memory 3" /></div>
      <div class="image-item"><img src="pic5.jpg" alt="Memory 4" /></div>
      <div class="image-item"><img src="pic6.jpg" alt="Memory 5" /></div>
      <div class="image-item"><img src="pic7.jpg" alt="Memory 6" /></div>
      <div class="image-item"><img src="pic8.jpg" alt="Memory 7" /></div>
      <div class="image-item"><img src="pic9.jpg" alt="Memory 7" /></div>
      <div class="image-item"><img src="pic10.jpg" alt="Memory 7" /></div>
      <div class="image-item"><img src="pic11.jpg" alt="Memory 7" /></div>
      <div class="image-item"><img src="pic12.jpg" alt="Memory 7" /></div>
      <div class="image-item"><img src="pic13.jpg" alt="Memory 7" /></div>
    </div>
  </section>

  <!-- Trigger Button -->
  <button class="qus" onclick="startQuestions()">Click Me 💘</button>
</div>

<!-- Popup Modal -->
<div class="popup-overlay" id="popup">
  <div class="popup-box">
    <p id="question-text"></p>
    <div id="options-container"></div>
  </div>
</div>

<!-- Final Text -->
<div class="final-message" id="finalText">In English we say,"Your eyes are beautiful"...But in poetry we say,"Your eyes hold a thousand untold stories and I want to spend forever reading them 🩵"</div>

<!-- Heart explosion container -->
<div id="heart-explosion"></div>

<script>
  const questions = [
    { text: "Do you love me 🤌🌹", options: ["No"] },
    { text: "Enna nee love panaliya 🥺", options: ["Ama illa di"] },
    { text: "Enna kalayanam panna maattala appo😏", options: ["aama pannika maaten"] },
    { text: "Is there any happiest memory with me so far?", options: ["Yesss","No"] },
    { text: "Who's more romantic?", options: ["Me","You"] },
    { text: "My role in your  life😁", options: ["Boon","Bane"] },
    { text: "Do u love me (Indha jenmam illa innum ethana jenmam eduthaalum indha kelvikku nee ok solli dhaan aaganum...)", options: ["Yes","💯Yes"] }
  ];

  let currentQuestion = 0;

  function startQuestions() {
    document.getElementById('popup').style.display = 'flex';
    document.getElementById('contentWrapper').classList.add("blurred");
    showQuestion();
  }

  function showQuestion() {
    const q = questions[currentQuestion];
    document.getElementById('question-text').innerText = q.text;

    const container = document.getElementById('options-container');
    container.innerHTML = "";

    q.options.forEach(option => {
      const btn = document.createElement("button");
      btn.textContent = option;
      btn.onclick = () => nextQuestion();
      container.appendChild(btn);
    });
  }

  function nextQuestion() {
    currentQuestion++;
    if (currentQuestion < questions.length) {
      showQuestion();
    } else {
      document.getElementById('popup').style.display = 'none';
      document.getElementById('contentWrapper').classList.remove("blurred");
      triggerFinalEffect();
    }
  }

  function triggerFinalEffect() {
    const explosion = document.getElementById("heart-explosion");

    for (let i = 0; i < 100; i++) {
      const heart = document.createElement("div");
      heart.className = "explode-heart";
      heart.style.left = "50%";
      heart.style.top = "50%";
      heart.style.setProperty('--x', (Math.random() - 0.5) * 200 + 'px');
      heart.style.setProperty('--y', (Math.random() - 0.5) * 200 + 'px');
      explosion.appendChild(heart);
      setTimeout(() => heart.remove(), 1000);
    }

    document.getElementById('finalText').style.display = 'block';
  }
</script>

</body>
</html>
